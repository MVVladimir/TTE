# BallTree

Этот алгоритм был довольно подробно изучен. Из источников я пришёл к выводу, что это алгоритм классификации точек, который с помощью дерева строит шары (в смысле теории множеств и функционального анализа, для плоскости - круг, для прямой - отрезок) внутренность которых - это некоторый класс. Этот алгоритм применим для задач с низкой ($\le 3$) размерностью, для нашей задачи это условие выполняется.

<img title="" src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fskywind3000.github.io%2Fword%2Fimages%2Fknn%2Fknn-16.png&f=1&nofb=1" alt="" width="413" data-align="center">

На рисункее выше, зелёные кружки - это классы. Выбрав координаты центра круга или случайную точку из генеральной совокупности, включённую в него, можно получить координату, тайл окрестности которой будет общим для всех точек внутри круга.

Из документации scikit-learn не было ясно как получить доступ к кружкам, они же nodes в sklearn, в добавок, методы классификации, задействующие этот алгоритм, требовали полноценной обучающей выборки, поэтому к этотому алгоритму возникло слишком много вопросов и был выбран другой.

# Mini-Batch K-Means clustering

Предпринята попытка решить задачу кластеризации методом k-средних. 

```.py
mbKMeans = MiniBatchKMeans(n_clusters = 2810, random_state = 0, batch_size=200000, max_iter=100)
```

В качестве параметров передано:

- количество кластеров = 2810. Это число выбрано с расчётом на то, что именно такое количество тайлов 200x200 метров полностью покроет Абакан. Следовательно, именно такое количество классов и требуется.

- random_state = 0 - для определённости.

- batch_size = 200 000, чтобы при количестве итеравций = 100, на каждую пару координат приходилось $\approx 2.5$ раз присутвия в вычислениях, для равномерности.

<img title="" src="https://cdn.educba.com/academy/wp-content/uploads/2019/05/Convergence-6.jpg" alt="" data-align="center">

Из картинки сверху - крестики, это центроиды. Поле cluster_centers_ было сохранено в .csv и передано для сбора картинок.


